# lessons_03. umi çš„ä½¿ç”¨

## Umi æ˜¯ä»€ä¹ˆï¼Ÿ

ä¹Œç±³ï¼Œæ˜¯ä¸€ä¸ªå‰ç«¯åº”ç”¨æ¡†æ¶ï¼Œç›®å‰åœ¨é˜¿é‡Œç³»çš„æŠ€æœ¯åœˆä¸­å·²ç»æ˜¯å¿…å¤‡æŠ€èƒ½ï¼Œå—é˜¿é‡Œç³»å½±å“æ¯”è¾ƒå¤§çš„æ­å·ä¸ä¸Šæµ·ï¼Œ50%ä»¥ä¸Šçš„å…¬å¸éƒ½æœ‰é¡¹ç›®åœ¨ä½¿ç”¨è¿™ä¸ªæ¡†æ¶ã€‚è€Œåœ¨åŒ—äº¬ï¼Œä¹Ÿæœ‰æ¯”è¾ƒå¤šçš„å…¬å¸åœ¨ä½¿ç”¨ umiã€‚

umi çš„å®˜ç½‘æ˜¯è¿™æ ·æè¿°çš„ï¼šUmi ä»¥è·¯ç”±ä¸ºåŸºç¡€çš„ï¼ŒåŒæ—¶æ”¯æŒé…ç½®å¼è·¯ç”±å’Œçº¦å®šå¼è·¯ç”±ï¼Œä¿è¯è·¯ç”±çš„åŠŸèƒ½å®Œå¤‡ï¼Œå¹¶ä»¥æ­¤è¿›è¡ŒåŠŸèƒ½æ‰©å±•ã€‚ç„¶åé…ä»¥ç”Ÿå‘½å‘¨æœŸå®Œå–„çš„æ’ä»¶ä½“ç³»ï¼Œè¦†ç›–ä»æºç åˆ°æ„å»ºäº§ç‰©çš„æ¯ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œæ”¯æŒå„ç§åŠŸèƒ½æ‰©å±•å’Œä¸šåŠ¡éœ€æ±‚ï¼›

ç›®å‰ä»æˆ‘äº†è§£çš„ä¿¡æ¯ä¸Šæ¥çœ‹ï¼Œumi æ˜¯ä¸€ä¸ªä»¥è·¯ç”±ä¸ºåŸºç¡€çš„ react åº”ç”¨æ¡†æ¶ã€‚å®ƒæ”¯æŒä¸€ç§å«åšçº¦å®šå¼è·¯ç”±çš„æŠ€æœ¯ä»¥åŠå„ç§å¤æ‚çš„è·¯ç”±åŠŸèƒ½ï¼Œå¹¶å›´ç»•è¿™ä¸ªæ ¸å¿ƒè¿›è¡ŒåŠŸèƒ½æ‰©å±•ï¼Œæ¯”å¦‚æ”¯æŒè·¯ç”±çº§çš„æŒ‰éœ€åŠ è½½ã€‚åŒæ—¶å®ƒè¿˜å…·å¤‡äº†å‰ç«¯æ’ä»¶ç®¡ç†ç³»ç»Ÿã€é¡¹ç›®èµ„æºæ‰“åŒ…åŠè¯­æ³•ç¼–è¯‘ç­‰åŠŸèƒ½ä¸ºä¸€ä½“ï¼Œå¯ä»¥å¸®åŠ©å¼€å‘è€…å¿«é€Ÿåœ°åˆ›å»ºä¸€å¥—å®Œæ•´ä½“ç³»çš„ react é¡¹ç›®ã€‚

## Umi çš„ç‰¹æ€§

**ğŸ‰ å¯æ‰©å±•** Umi å®ç°äº†å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¹¶ä½¿å…¶æ’ä»¶åŒ–ï¼ŒUmi å†…éƒ¨åŠŸèƒ½ä¹Ÿå…¨ç”±æ’ä»¶å®Œæˆã€‚æ­¤å¤–è¿˜æ”¯æŒæ’ä»¶å’Œæ’ä»¶é›†ï¼Œä»¥æ»¡è¶³åŠŸèƒ½å’Œå‚ç›´åŸŸçš„åˆ†å±‚éœ€æ±‚ã€‚
**ğŸ“¦ å¼€ç®±å³ç”¨** Umi å†…ç½®äº†è·¯ç”±ã€æ„å»ºã€éƒ¨ç½²ã€æµ‹è¯•ç­‰ï¼Œä»…éœ€ä¸€ä¸ªä¾èµ–å³å¯ä¸Šæ‰‹å¼€å‘ã€‚å¹¶ä¸”è¿˜æä¾›é’ˆå¯¹ React çš„é›†æˆæ’ä»¶é›†ï¼Œå†…æ¶µä¸°å¯Œçš„åŠŸèƒ½ï¼Œå¯æ»¡è¶³æ—¥å¸¸ 80% çš„å¼€å‘éœ€æ±‚ã€‚
**ğŸ  ä¼ä¸šçº§** ç»èš‚èšå†…éƒ¨ 3000+ é¡¹ç›®ä»¥åŠé˜¿é‡Œã€ä¼˜é…·ã€ç½‘æ˜“ã€é£çŒªã€å£ç¢‘ç­‰å…¬å¸é¡¹ç›®çš„éªŒè¯ï¼Œå€¼å¾—ä¿¡èµ–ã€‚
**ğŸš€ å¤§é‡è‡ªç ”** åŒ…å«å¾®å‰ç«¯ã€ç»„ä»¶æ‰“åŒ…ã€æ–‡æ¡£å·¥å…·ã€è¯·æ±‚åº“ã€hooks åº“ã€æ•°æ®æµç­‰ï¼Œæ»¡è¶³æ—¥å¸¸é¡¹ç›®çš„å‘¨è¾¹éœ€æ±‚ã€‚
**ğŸŒ´ å®Œå¤‡è·¯ç”±** åŒæ—¶æ”¯æŒé…ç½®å¼è·¯ç”±å’Œçº¦å®šå¼è·¯ç”±ï¼ŒåŒæ—¶ä¿æŒåŠŸèƒ½çš„å®Œå¤‡æ€§ï¼Œæ¯”å¦‚åŠ¨æ€è·¯ç”±ã€åµŒå¥—è·¯ç”±ã€æƒé™è·¯ç”±ç­‰ç­‰ã€‚
**ğŸš„ é¢å‘æœªæ¥** åœ¨æ»¡è¶³éœ€æ±‚çš„åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿä¸ä¼šåœæ­¢å¯¹æ–°æŠ€æœ¯çš„æ¢ç´¢ã€‚æ¯”å¦‚ dll æé€Ÿã€modern modeã€webpack@5ã€è‡ªåŠ¨åŒ– externalã€bundler less ç­‰ç­‰ã€‚

## å¾®å‰ç«¯

## ä»€ä¹ˆæ˜¯é…ç½®å¼è·¯ç”±ï¼Ÿ

é…ç½®å¼è·¯ç”±ï¼Œå°±æ˜¯æˆ‘ä»¬åœ¨å­¦ä¹  vueã€react æ—¶ï¼Œé€šè¿‡æ‰‹å†™ router æ–‡ä»¶å¯¹æ¯ä¸€ä¸ªè·¯ç”±éƒ½æŒ‡å®š components çš„æ–¹å¼

```javascript

```

## ä»€ä¹ˆæ˜¯çº¦å®šå¼è·¯ç”±ï¼Ÿ

çº¦å®šå¼è·¯ç”±ä¹Ÿå«æ–‡ä»¶è·¯ç”±ï¼Œå°±æ˜¯ä¸éœ€è¦æ‰‹å†™è·¯ç”±é…ç½®ï¼Œæ–‡ä»¶ç³»ç»Ÿå³è·¯ç”±ï¼Œé€šè¿‡ç›®å½•å’Œæ–‡ä»¶ä»¥åŠå®ƒçš„å‘½åæ¥åˆ†æå‡ºè·¯ç”±é…ç½®ã€‚

æ¯”å¦‚è¿™ä¸ªæ–‡ä»¶ç»“æ„

```javascript
â””â”€  pages
 â”œâ”€  index.tsx
 â””â”€  users.tsx
```

åœ¨æ”¯æŒçº¦å®šå¼è·¯ç”±çš„æ¡†æ¶ä¸­ä¼šç”Ÿæˆä¸‹é¢è¿™ç§è·¯ç”±é…ç½®

```javascript
[
  { exact: true, path: '/', component: '@/pages/index' },
  { exact: true, path: '/users', component: '@/pages/users' },
];
```

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ»¡è¶³ä»¥ä¸‹ä»»æ„è§„åˆ™çš„æ–‡ä»¶ä¸ä¼šè¢«æ³¨å†Œä¸ºè·¯ç”±ï¼Œ

- ä»¥ . æˆ– \_ å¼€å¤´çš„æ–‡ä»¶æˆ–ç›®å½•
- ä»¥ d.ts ç»“å°¾çš„ç±»å‹å®šä¹‰æ–‡ä»¶
- ä»¥ test.tsã€spec.tsã€e2e.ts ç»“å°¾çš„æµ‹è¯•æ–‡ä»¶ï¼ˆé€‚ç”¨äº .jsã€.jsx å’Œ .tsx æ–‡ä»¶ï¼‰
- components å’Œ component ç›®å½•
- utils å’Œ util ç›®å½•
- ä¸æ˜¯ .jsã€.jsxã€.ts æˆ– .tsx æ–‡ä»¶
- æ–‡ä»¶å†…å®¹ä¸åŒ…å« JSX å…ƒç´ 

> ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒçš„æ–‡ä»¶éå†è§„åˆ™ä¸­é¦–å…ˆæ”¶é›†æ‰€æœ‰ react é¡µé¢çº§ç»„ä»¶ï¼Œç„¶åè‡ªåŠ¨æ ¹æ®æ–‡ä»¶å¤¹çš„è·¯å¾„ç”Ÿæˆæ–‡ä»¶çš„å¼•ç”¨å’Œè·¯ç”±è¡¨

**å¦‚æœæ²¡æœ‰ routes é…ç½®ï¼ŒUmi ä¼šè¿›å…¥çº¦å®šå¼è·¯ç”±æ¨¡å¼ï¼Œç„¶ååˆ†æ src/pages ç›®å½•æ‹¿åˆ°è·¯ç”±é…ç½®ã€‚**

## åˆ›å»ºä¸€ä¸ª umi+dva çš„é¡¹ç›®

mkdir umi_practice && cd umi_practice
yarn create @umijs/umi-app

## çƒ­æ›´æ–°

###### çƒ­æ›´æ–°åŠ é€Ÿ

```javascript
// dev
mfsu: {}

// pro
mfsu: { production: { output: '.mfsu-production' } },
```

## çº¦å®šå¼è·¯ç”±

## ç›®å½•ç»“æ„

###### /.env

###### /dist

###### /mock

###### /public

###### /src

###### /src/pages

###### /src/layouts

###### /src/.umi // no push

######

## layout
